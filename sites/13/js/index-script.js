"use strict";const HTML=document.documentElement,body=document.body,mediaIsAnyHover=window.matchMedia("(any-hover: hover)").matches;function defineDocFontSize(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}const LockPaddingUtils={set(){let t=window.innerWidth-body.querySelector(".wrapper").offsetWidth+"px";body.style.setProperty("--bodyLockPadding_js",t)},del(){body.style.removeProperty("--bodyLockPadding_js")}};let header=body.querySelector(".onset__header"),bodyHasDataGoto=!!body.querySelector("[data-goto]");
function goTo(t){const e=t.getBoundingClientRect().top+scrollY;"scrollBehavior"in HTML.style?window.scrollTo({top:e,behavior:"smooth"}):window.scrollTo(0,e)}function setHeaderVariableHeight(){body.style.setProperty("--headerVariableHeight_js",header.offsetHeight/defineDocFontSize()+"rem")}if(bodyHasDataGoto&&body.addEventListener("click",(function(t){if(t.target.closest("[data-goto]")){t.preventDefault();let e=t.target.closest("[data-goto]").dataset.goto,o=!!e&&document.querySelector(e);o&&goTo(o)}}),{capture:!1,once:!1,passive:!1}),document.querySelector(".menu")){function t(t){t.target.closest(".burger")?body.classList.contains("menu-open")?i():(LockPaddingUtils.set(),o(),body.classList.add("menu-open"),goTo(header),window.addEventListener("resize",e,{capture:!1,once:!1,passive:!0})):t.target.closest(".menu__item")&&i()}function e(){o(),s()}function o(){setHeaderVariableHeight()}function s(){let t=body.querySelector(".burger");"none"===getComputedStyle(t).display&&i()}function i(){window.removeEventListener("resize",e),body.classList.remove("menu-open"),LockPaddingUtils.del()}header.addEventListener("click",t,{capture:!1,once:!1,passive:!0})}let pageArticlesElms=document.querySelectorAll(".content-item");if(pageArticlesElms.length>0){function n(){let t=document.documentElement.clientHeight;for(let e of pageArticlesElms){let o=!!e.classList.contains("_noShow");e.getBoundingClientRect().top<t?o&&e.classList.remove("_noShow"):o||e.classList.add("_noShow")}}window.addEventListener("scroll",n,{capture:!1,once:!1,passive:!0}),n()}const SmoothScroll={duration:1,_scroll:0,_targetScroll:0,_isInitialized:!1,_rafId:null,_timeout:null,init(){if(!this._isInitialized&&mediaIsAnyHover&&(this.smoothWrapper=document.getElementById("smooth-wrapper"),this.smoothContent=document.getElementById("smooth-content"),this.smoothWrapper&&this.smoothContent)){if(this._isInitialized=!0,this.applyStyles(),this.computeEase(),"object"==typeof ResizeSystem)ResizeSystem.add(this,{updateBodyHeight:null},!0);else{let t;window.addEventListener("resize",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{this.updateBodyHeight(),t=null}),250)}))}"complete"!==document.readyState&&window.addEventListener("load",(()=>this.updateBodyHeight()),{once:!0}),this.updateBodyHeight(),this.startSmoothScroll(),window.addEventListener("scroll",(()=>{this._rafId||this.startSmoothScroll()}))}},computeEase(){const t=60*this.duration;this.ease=1-Math.pow(.005,1/t)},applyStyles(){Object.assign(body.style,{scrollBehavior:"auto"}),Object.assign(this.smoothWrapper.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}),Object.assign(this.smoothContent.style,{width:"100%",overflow:"visible",pointerEvents:"all",translate:"none",rotate:"none",scale:"none",willChange:"transform",transform:"translate(0px, 0px)"})},updateBodyHeight(){setTimeout((()=>{const t=Math.max(window.innerHeight,Math.min(this.smoothContent.getBoundingClientRect().height,this.smoothContent.scrollHeight,this.smoothContent.offsetHeight));body.style.height=t+"px"}),250)},startSmoothScroll(){const t=()=>{this._targetScroll=window.scrollY||window.pageYOffset;const e=this._targetScroll-this._scroll;this._scroll+=e*this.ease,this.smoothContent.style.transform=`matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, ${-this._scroll}, 0, 1)`,Math.abs(e)>.1?this._rafId=requestAnimationFrame(t):this._rafId=null};this._rafId=requestAnimationFrame(t)}}.init();