"use strict";const body=document.body;if(body.querySelector(".menu")){function e(e){e.target.closest(".burger")?(t(),body.classList.add("menu-open"),window.addEventListener("resize",t,{capture:!1,once:!1,passive:!0})):e.target.closest(".menu__item")&&o()}function t(){let e=window.innerWidth-body.querySelector(".wrapper").offsetWidth+"px";body.style.setProperty("--bodyLockPadding_js",e)}function o(){window.removeEventListener("resize",t),body.classList.remove("menu-open"),body.style.removeProperty("--bodyLockPadding_js")}body.addEventListener("click",e,{capture:!1,once:!1,passive:!0})}function initializeVideoPlayer(e){const t=body.querySelector(e);if(t){let o,n,c,s,r,u=t.querySelector("video"),i=t.querySelector(".video__btn"),l=t.querySelector(".video__controls"),a=t.querySelector(".controls__play"),d=(t.querySelector(".controls__stop"),t.querySelector(".controls__full-screen"),t.querySelector(".controls__progress-track")),m=t.querySelector(".controls__progress-filling"),p=t.querySelector(".controls__progress-thumb"),v=t.querySelector(".controls__time");//!!!
function f(e){function i(){t.removeEventListener("touchend",f)}function f(e){function o(e){e.target.closest("._active-controls")&&(e.target.closest(".controls__play")||e.target.closest("video")?_():e.target.closest(".controls__stop")?(u.currentTime=0,//!
u.pause(),a.classList.remove("_active")):e.target.closest(".controls__full-screen")?h():e.target.closest(".controls__progress-track")&&!e.target.closest(".controls__progress-thumb")&&(n="progress",function(e){let t;"touchend"===e.type?t=e.changedTouches[0].clientX:"mouseup"===e.type&&(t=e.clientX);t&&g(t,!1)}(e))),y()}"mouseup"==e.type&&1!==e.which||(t.focus(),"touchend"==e.type&&(e.preventDefault(),t.removeEventListener("touchmove",i)),e.target.closest("._active-controls .video__controls")?o(e):c?(h(),//!!!!!
clearTimeout(c),c=!1):c=setTimeout((()=>{o(e),clearTimeout(c),c=!1}),200))}function y(){s?clearTimeout(s):t.classList.add("_active-controls"),s=setTimeout((()=>{t.classList.remove("_active-controls"),clearTimeout(s),s=!1}),3e3)}function _(){u.paused?(u.play(),//!
a.classList.add("_active")):(u.pause(),//!
a.classList.remove("_active"))}function h(){(document.fullscreenEnabled||document.mozFullScreenEnabled)&&(document.fullscreenElement||document.mozFullScreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullScreen?t.webkitEnterFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen())}function L(){const e=u.currentTime;!function(e){let t=Math.floor(e/60);//!!!!!!!!
t<10&&(t="0"+String(t));let o=Math.floor(e%60);//!!!!!!!!
o<10&&(o="0"+String(o));v.innerHTML=`${t}:${o}`}(e),function(e){let t=e/u.duration*100+"%";m.style.width=t,p.style.left=t}(e)}function g(e,t=!0){let o,n,c;o=d,n=m,c=p;let s=o.offsetWidth,r=o.getBoundingClientRect(),i=(e-r.left)/s*100;t&&(i<=0||e<=r.left?i=0:(i>=100||e>=r.right)&&(i=100)),c.style.left=`${i}%`,n.style.width=`${i}%`,u.currentTime=u.duration/100*i}function E(e){e.target.closest(".controls__progress-thumb")&&(n="progress",function(e){l.classList.add("_active"),"touchstart"===e.type?(o=e.touches[0].clientX,document.addEventListener("touchmove",b,{capture:!1,once:!1,passive:!1}),document.addEventListener("touchend",S,{capture:!1,once:!0,passive:!0})):"mousedown"===e.type&&(o=e.clientX,document.addEventListener("mousemove",b,{capture:!1,once:!1,passive:!0}),document.addEventListener("mouseup",S,{capture:!1,once:!0,passive:!0}))}(e))}function b(e){function t(e){0!==e-o&&(g(e),o=e)}"touchmove"===e.type&&1===e.touches.length?(e.preventDefault(),t(e.touches[0].clientX)):"mousemove"===e.type&&1===e.which&&t(e.clientX)}function S(e){l.classList.remove("_active"),y(),"touchend"===e.type?document.removeEventListener("touchmove",b):"mouseup"===e.type&&document.removeEventListener("mousemove",b)}y(),_(),t.classList.add("_active"),t.addEventListener("mouseup",f,{capture:!1,once:!1,passive:!0}),t.addEventListener("touchstart",(function(){t.addEventListener("touchmove",i,{capture:!1,once:!0,passive:!0}),t.addEventListener("touchend",f,{capture:!1,once:!0,passive:!1})}),{capture:!0,once:!1,passive:!0}),u.addEventListener("timeupdate",L,{capture:!0,once:!1,passive:!0}),l.addEventListener("touchstart",E,{capture:!1,once:!1,passive:!0}),l.addEventListener("mousedown",E,{capture:!1,once:!1,passive:!0}),t.addEventListener("mousemove",y,{capture:!0,once:!1,passive:!0}),document.addEventListener("keydown",(function(e){const o=e.code;"ArrowLeft"!=o&&"ArrowRight"!=o||!function(e,o=!0){if(!e.repeat){let e=document.activeElement;r=(o?n(e):e==t)&&c(),r&&document.addEventListener("keyup",(e=>r=!1),{capture:!0,once:!0,passive:!0})}return r}(e)?"Space"==o&&!e.repeat&&n(document.activeElement)&&c()&&(e.preventDefault(),y(),_()):(y(),"ArrowLeft"==o?u.currentTime-=3:u.currentTime+=3,L());function n(e){if(e==t)return!0;{let t=e.tagName;if("TEXTAREA"==t)return!1;if("INPUT"==t){let t=e.type;return"button"==t||"submit"==t||"reset"==t}return!0}}function c(){let e=t.getBoundingClientRect(),o=document.documentElement.clientHeight;return e.top>=0&&e.top<o||e.bottom>0&&e.bottom<=o||e.top<=0&&e.bottom>=o}}),{capture:!0,once:!1,passive:!1})}i.addEventListener("click",f,{capture:!1,once:!0,passive:!0})}}initializeVideoPlayer(".video");